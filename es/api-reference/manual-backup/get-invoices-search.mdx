---
title: 'GET /invoices - Buscar Facturas'
description: 'Documentaci√≥n para buscar y filtrar facturas con par√°metros de consulta'
---

# üîç GET /invoices - Buscar Facturas

Este endpoint te permite buscar y filtrar facturas usando diferentes par√°metros de consulta.

## URL Base

```
https://facture.ar/api/invoices
```

## Autenticaci√≥n

Todas las peticiones requieren autenticaci√≥n usando:

- **Sesi√≥n Web**: Para aplicaciones basadas en navegador
- **API Key**: Para integraciones servidor a servidor

Incluye tu API key en el header `x-api-key`:

```bash
x-api-key: tu-api-key-aqui
```

## Par√°metros de Consulta

| Par√°metro | Tipo | Requerido | Descripci√≥n | Ejemplo |
| --------- | ---- | --------- | ----------- | ------- |
| `cuitId` | string | ‚ùå | Filtrar por ID de CUIT | `"123e4567-e89b-12d3-a456-426614174000"` |
| `status` | string | ‚ùå | Filtrar por estado | `"success"` |
| `invoiceType` | number | ‚ùå | Filtrar por tipo de factura | `11` |
| `dateFrom` | string | ‚ùå | Fecha desde (YYYY-MM-DD) | `"2024-01-01"` |
| `dateTo` | string | ‚ùå | Fecha hasta (YYYY-MM-DD) | `"2024-01-31"` |
| `amountMin` | number | ‚ùå | Monto m√≠nimo | `100.0` |
| `amountMax` | number | ‚ùå | Monto m√°ximo | `5000.0` |
| `clientName` | string | ‚ùå | Buscar por nombre de cliente | `"Cliente S.A."` |
| `page` | number | ‚ùå | N√∫mero de p√°gina (por defecto: 1) | `1` |
| `limit` | number | ‚ùå | Elementos por p√°gina (por defecto: 20, m√°x: 100) | `50` |
| `sortBy` | string | ‚ùå | Campo para ordenar | `"createdAt"` |
| `sortOrder` | string | ‚ùå | Orden (asc/desc, por defecto: desc) | `"desc"` |

## Respuesta

### √âxito (200)

```json
{
  "data": [
    {
      "id": "123e4567-e89b-12d3-a456-426614174000",
      "cuitId": "456e7890-e89b-12d3-a456-426614174001",
      "amount": 1000.0,
      "description": "Venta de servicios",
      "docTipo": 99,
      "docNro": 0,
      "invoiceType": 11,
      "concepto": 2,
      "ptoVta": 1,
      "clientName": "Cliente S.A.",
      "cbteFch": "20240101",
      "status": "success",
      "afipData": {
        "cae": "12345678901234",
        "caeFchVto": "20240115",
        "voucherNumber": 1,
        "ptoVta": 1,
        "invoiceType": 11
      },
      "createdAt": "2024-01-01T10:00:00Z",
      "updatedAt": "2024-01-01T10:05:00Z"
    }
  ],
  "pagination": {
    "page": 1,
    "limit": 20,
    "total": 150,
    "totalPages": 8,
    "hasNext": true,
    "hasPrev": false
  },
  "filters": {
    "cuitId": "456e7890-e89b-12d3-a456-426614174001",
    "status": "success",
    "dateFrom": "2024-01-01",
    "dateTo": "2024-01-31"
  }
}
```

### Respuestas de Error

#### Error de Validaci√≥n (400)

```json
{
  "error": "Validation error",
  "details": [
    {
      "field": "dateFrom",
      "message": "Invalid date format. Use YYYY-MM-DD"
    }
  ]
}
```

#### No Autorizado (401)

```json
{
  "error": "Unauthorized",
  "details": "Invalid API key or session"
}
```

#### Error del Servidor (500)

```json
{
  "error": "Internal server error",
  "details": "Failed to retrieve invoices"
}
```

## Campos de Respuesta

### Datos de Factura

| Campo | Tipo | Descripci√≥n |
| ----- | ---- | ----------- |
| `id` | string | ID √∫nico de la factura |
| `cuitId` | string | ID del CUIT que emiti√≥ la factura |
| `amount` | number | Monto total de la factura |
| `description` | string | Descripci√≥n de la factura |
| `docTipo` | number | Tipo de documento del cliente |
| `docNro` | number | N√∫mero de documento del cliente |
| `invoiceType` | number | Tipo de factura |
| `concepto` | number | Tipo de concepto |
| `ptoVta` | number | Punto de venta |
| `clientName` | string | Nombre del cliente |
| `cbteFch` | string | Fecha de la factura (YYYYMMDD) |
| `status` | string | Estado de la factura |
| `afipData` | object | Datos de AFIP (solo si status = success) |
| `createdAt` | string | Fecha de creaci√≥n (ISO 8601) |
| `updatedAt` | string | Fecha de √∫ltima actualizaci√≥n (ISO 8601) |

### Paginaci√≥n

| Campo | Tipo | Descripci√≥n |
| ----- | ---- | ----------- |
| `page` | number | P√°gina actual |
| `limit` | number | Elementos por p√°gina |
| `total` | number | Total de elementos |
| `totalPages` | number | Total de p√°ginas |
| `hasNext` | boolean | Hay p√°gina siguiente |
| `hasPrev` | boolean | Hay p√°gina anterior |

## Estados de Factura

| Estado | Descripci√≥n |
| ------ | ----------- |
| `pending` | Factura en cola, esperando procesamiento |
| `processing` | Factura siendo procesada por AFIP |
| `success` | Factura procesada exitosamente |
| `failed` | Factura fall√≥ en el procesamiento |

## Campos de Ordenamiento

| Campo | Descripci√≥n |
| ----- | ----------- |
| `createdAt` | Fecha de creaci√≥n |
| `updatedAt` | Fecha de √∫ltima actualizaci√≥n |
| `amount` | Monto de la factura |
| `cbteFch` | Fecha de la factura |
| `clientName` | Nombre del cliente |

## Ejemplos de Uso

### Buscar Facturas por Estado

```bash
curl -X GET "https://facture.ar/api/invoices?status=success&limit=10" \
  -H "x-api-key: tu-api-key"
```

### Buscar Facturas por Rango de Fechas

```bash
curl -X GET "https://facture.ar/api/invoices?dateFrom=2024-01-01&dateTo=2024-01-31" \
  -H "x-api-key: tu-api-key"
```

### Buscar Facturas por CUIT y Monto

```bash
curl -X GET "https://facture.ar/api/invoices?cuitId=123e4567-e89b-12d3-a456-426614174000&amountMin=100&amountMax=1000" \
  -H "x-api-key: tu-api-key"
```

### JavaScript/Node.js

```javascript
// Buscar facturas exitosas del √∫ltimo mes
const response = await fetch('https://facture.ar/api/invoices?status=success&dateFrom=2024-01-01&dateTo=2024-01-31&limit=50', {
  method: 'GET',
  headers: {
    'x-api-key': 'tu-api-key',
  },
});

const result = await response.json();
console.log('Facturas:', result.data);
console.log('Total:', result.pagination.total);
```

### Python

```python
import requests

# Buscar facturas por cliente
response = requests.get(
    'https://facture.ar/api/invoices',
    headers={
        'x-api-key': 'tu-api-key'
    },
    params={
        'clientName': 'Cliente S.A.',
        'status': 'success',
        'limit': 20,
        'sortBy': 'createdAt',
        'sortOrder': 'desc'
    }
)

result = response.json()
print('Facturas:', result['data'])
print('Total:', result['pagination']['total'])
```

## ‚ùì Soluci√≥n de Problemas

<Accordion title="Error: Formato de fecha inv√°lido">
**Causa**: Las fechas no est√°n en el formato correcto.

**Soluci√≥n**:

1. Usa el formato YYYY-MM-DD para las fechas
2. Verifica que las fechas sean v√°lidas
3. Aseg√∫rate de que dateFrom sea anterior a dateTo
</Accordion>

<Accordion title="Error: L√≠mite excedido">
**Causa**: El par√°metro limit excede el m√°ximo permitido.

**Soluci√≥n**:

1. Usa un l√≠mite menor o igual a 100
2. Implementa paginaci√≥n para obtener m√°s resultados
3. Usa filtros m√°s espec√≠ficos para reducir resultados
</Accordion>

<Accordion title="Error: Estado inv√°lido">
**Causa**: El estado especificado no es v√°lido.

**Soluci√≥n**:

1. Usa solo estados v√°lidos: pending, processing, success, failed
2. Verifica la ortograf√≠a del estado
3. Consulta la tabla de estados disponibles
</Accordion>

## üìû Soporte

Para soporte t√©cnico o preguntas sobre la API:

- üìß **Email**: support@facture.ar
- üí¨ **Chat**: Disponible en la plataforma
- üìö **Documentaci√≥n**: Explora nuestros ejemplos detallados
- üé• **Videollamada**: Para asistencia personalizada
